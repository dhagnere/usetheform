(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{J24e:function(e,n,t){"use strict";t.r(n),t.d(n,"_frontmatter",(function(){return c})),t.d(n,"default",(function(){return u}));var a=t("k0FJ"),o=t("oedh"),l=(t("mXGw"),t("/FXl")),r=t("TjRS"),c=(t("aD51"),{});void 0!==c&&c&&c===Object(c)&&Object.isExtensible(c)&&!c.hasOwnProperty("__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"docs/useCollection.mdx"}});var b={_frontmatter:c},i=r.a;function u(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(l.b)(i,Object(a.a)({},b,t,{components:n,mdxType:"MDXLayout"}),Object(l.b)("h1",{id:"usecollection"},"useCollection"),Object(l.b)("p",null,"It is a custom React hook which allows to build a custom Collection.\nA Collection can be of type: ",Object(l.b)("em",{parentName:"p"},"object")," or ",Object(l.b)("em",{parentName:"p"},"array"),"."),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"  const { value, state, updateCollection } = useCollection(options)\n")),Object(l.b)("h2",{id:"arguments"},"Arguments"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},Object(l.b)("inlineCode",{parentName:"strong"},"options")),": object"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},Object(l.b)("strong",{parentName:"p"},Object(l.b)("inlineCode",{parentName:"strong"},"object")),": boolean"),Object(l.b)("p",{parentName:"li"},"It creates a collecion of type ",Object(l.b)("strong",{parentName:"p"},"object"),' if "true".')),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},Object(l.b)("strong",{parentName:"p"},Object(l.b)("inlineCode",{parentName:"strong"},"array")),": boolean"),Object(l.b)("p",{parentName:"li"},"It creates a collecion of type ",Object(l.b)("strong",{parentName:"p"},"array"),' if "true".')),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},Object(l.b)("strong",{parentName:"p"},Object(l.b)("inlineCode",{parentName:"strong"},"name")),": string - (except for children of Collection of type array)"),Object(l.b)("p",{parentName:"li"},"A field's name in Usetheform state.")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},Object(l.b)("strong",{parentName:"p"},Object(l.b)("inlineCode",{parentName:"strong"},"index")),": string - (only for children of Collection of type array)"),Object(l.b)("p",{parentName:"li"},"A field's index in array Collection.")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},Object(l.b)("strong",{parentName:"p"},Object(l.b)("inlineCode",{parentName:"strong"},"value")),": array | object"),Object(l.b)("p",{parentName:"li"},"Specifies the initial value of an ",Object(l.b)("em",{parentName:"p"},"Collection")," which can be either an array or an object.")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},Object(l.b)("strong",{parentName:"p"},Object(l.b)("inlineCode",{parentName:"strong"},"reducers")),": array | function"))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"(nextValue, prevValue, formState) => nextValue\n")),Object(l.b)("p",null,"  An array whose values correspond to different reducing functions.\nReducers functions specify how the Collection's value change."),Object(l.b)("h2",{id:"returns"},"Returns"),Object(l.b)("p",null,"(",Object(l.b)("strong",{parentName:"p"},Object(l.b)("inlineCode",{parentName:"strong"},"helpers")),"): ",Object(l.b)("inlineCode",{parentName:"p"},"object")),Object(l.b)("p",null,"An object that holds:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},Object(l.b)("inlineCode",{parentName:"strong"},"value")),": the current value of the Collection. It can be an array or an object."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},Object(l.b)("inlineCode",{parentName:"strong"},"updateCollection")),": a function which can change one prop of the Collection."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},Object(l.b)("inlineCode",{parentName:"strong"},"state")),": the current State of the entire Form.")),Object(l.b)("h2",{id:"basic-usage"},"Basic usage"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'import { useCollection } from "usetheform";\n\nconst CustomCollection = props => {\n  const { value, state, updateCollection } = useCollection({\n    name: "test",\n    type: "object",\n    value: { name: "foo" } // an initialValue if needeed\n  });\n\n  // it changes the prop "name" of the Collection named "test"\n  const onUpdateCollection = () => updateCollection("name", "mickey");\n  \n  return (\n    <div>\n      <span>{value.name}<span>\n      <button type="button" onClick={onUpdateCollection}>\n        Update Collection\n      </button>\n    </div>\n  );\n}\n')),Object(l.b)("h2",{id:"reducers"},"Reducers"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'import { useCollection } from "usetheform";\n\nconst maxNumber10 = (nextValue, prevValue) => nextValue > 10 ? prevValue : nextValue;\nconst minNumber1 = (nextValue, prevValue) => nextValue <= 0 ? prevValue : nextValue;\n\nconst CustomCollection = props => {\n  const { value, state, updateCollection } = useCollection({\n    name: "test",\n    type: "object",\n    value: { number: 10 } // an initialValue if needeed\n    reducers: [minNumber1, maxNumber10],\n  });\n  \n  const onIncrement = () => updateCollection("number", value.number + 1 );\n  const onDecrement = () => updateCollection("number", value.number - 1 );\n\n  return (\n    <div>\n      <span>{value.number}<span>\n      <button type="button" onClick={onIncrement}>\n        Increment\n      </button>\n      <button type="button" onClick={onDecrement}>\n        Decrement\n      </button>\n    </div>\n  );\n}\n')),Object(l.b)("h2",{id:"validation"},"Validation"),Object(l.b)("p",null,"Validation for Collection starts only on form submission."),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'import { useValidation, useCollection } from "usetheform";\n\nconst lessThan10 = value => {\n  return value && value.number && value.number <= 10\n    ? undefined\n    : "Number not valid";\n};\nconst graterThan0 = value =>\n  value && value.number && value.number >= 0 ? undefined : "Number not valid";\n\nconst CustomCollection = props => {\n  const [status, validation] = useValidation([lessThan10, graterThan0]);\n  const { value, updateCollection } = useCollection({\n    name: "test",\n    type: "object",\n    value: { number: 9 }, // an initialValue if needeed\n    ...validation\n  });\n\n  const onIncrement = () => updateCollection("number", value.number + 1);\n  const onDecrement = () => updateCollection("number", value.number - 1);\n\n  return (\n    <div>\n      <span>{value.number}</span>\n      {status.error && <label>{status.error}</label>}\n      <button type="button" onClick={onIncrement}>\n        Increment\n      </button>\n      <button type="button" onClick={onDecrement}>\n        Decrement\n      </button>\n    </div>\n  );\n}\n')))}void 0!==u&&u&&u===Object(u)&&Object.isExtensible(u)&&!u.hasOwnProperty("__filemeta")&&Object.defineProperty(u,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"docs/useCollection.mdx"}}),u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---docs-use-collection-mdx-be1b70c0b190f5fbfbcd.js.map